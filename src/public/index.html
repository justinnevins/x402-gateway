<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>serve402 â€” The Payment Layer for AI Agents</title>
<meta name="description" content="Pay-per-request APIs for AI agents. USDC on Base or XRP on XRPL. No accounts, no API keys.">
<meta property="og:title" content="serve402 â€” The Payment Layer for AI Agents">
<meta property="og:description" content="Pay-per-request APIs for AI agents. USDC on Base or XRP on XRPL. No accounts, no API keys.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://serve402.com">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="serve402 â€” The Payment Layer for AI Agents">
<meta name="twitter:description" content="Pay-per-request APIs for AI agents. USDC on Base or XRP on XRPL. No accounts, no API keys.">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0d1117;--bg2:#161b22;--bg3:#1c2333;
  --border:#30363d;--text:#e6edf3;--muted:#8b949e;
  --accent:#00D4AA;--accent2:#00b8925e;
}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:16px;line-height:1.6}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:0 auto;padding:0 24px}

/* NAV */
nav{border-bottom:1px solid var(--border);padding:16px 0;position:sticky;top:0;background:var(--bg);z-index:100;backdrop-filter:blur(8px)}
.nav-inner{display:flex;align-items:center;justify-content:space-between}
.logo{font-size:1.2rem;font-weight:700;color:var(--text);letter-spacing:-0.5px}
.logo span{color:var(--accent)}
.nav-links{display:flex;gap:24px;font-size:0.9rem;color:var(--muted)}
.nav-links a{color:var(--muted);transition:color .2s}
.nav-links a:hover{color:var(--text);text-decoration:none}

/* HERO */
.hero{padding:100px 0 80px;text-align:center;background:radial-gradient(ellipse at 50% 0%,#00d4aa12 0%,transparent 70%)}
.hero h1{font-size:clamp(2.2rem,5vw,3.8rem);font-weight:800;line-height:1.15;letter-spacing:-1.5px;margin-bottom:24px}
.hero h1 em{font-style:normal;color:var(--accent)}
.hero p{font-size:1.2rem;color:var(--muted);max-width:580px;margin:0 auto 40px}
.cta-group{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}
.btn{display:inline-block;padding:14px 28px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;border:none;text-decoration:none!important}
.btn-primary{background:var(--accent);color:#0d1117}
.btn-primary:hover{background:#00b894;transform:translateY(-1px)}
.btn-outline{background:transparent;color:var(--text);border:1px solid var(--border)}
.btn-outline:hover{border-color:var(--accent);color:var(--accent);transform:translateY(-1px)}
.badge{display:inline-block;margin-bottom:20px;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600;background:var(--accent2);color:var(--accent);border:1px solid var(--accent);letter-spacing:.5px}

/* SECTIONS */
section{padding:80px 0;border-top:1px solid var(--border)}
.section-label{font-size:.75rem;font-weight:700;letter-spacing:2px;color:var(--accent);text-transform:uppercase;margin-bottom:12px}
.section-title{font-size:clamp(1.6rem,3vw,2.4rem);font-weight:700;letter-spacing:-0.5px;margin-bottom:16px}
.section-sub{color:var(--muted);max-width:600px;margin-bottom:48px}

/* HOW IT WORKS */
.steps{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;position:relative}
.steps::before{content:'';position:absolute;top:36px;left:calc(16.6% + 12px);right:calc(16.6% + 12px);height:1px;background:linear-gradient(90deg,transparent,var(--accent),transparent);opacity:.4}
@media(max-width:680px){.steps{grid-template-columns:1fr}.steps::before{display:none}}
.step{text-align:center;padding:32px 24px;background:var(--bg2);border:1px solid var(--border);border-radius:12px;position:relative}
.step-num{display:inline-flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:50%;background:var(--bg3);border:2px solid var(--accent);font-size:1.6rem;margin-bottom:20px}
.step h3{font-size:1rem;font-weight:700;margin-bottom:8px}
.step p{font-size:.9rem;color:var(--muted)}
.step-note{text-align:center;margin-top:32px;color:var(--muted);font-size:.95rem}
.step-note code{color:var(--accent);background:var(--bg3);padding:2px 8px;border-radius:4px;font-size:.85rem}

/* SERVICES */
.services-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
.service-card{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:24px;transition:border-color .2s}
.service-card:hover{border-color:var(--accent)}
.service-card h3{font-size:1rem;font-weight:700;margin-bottom:8px}
.service-card .desc{font-size:.875rem;color:var(--muted);margin-bottom:16px}
.price-badges{display:flex;gap:8px;flex-wrap:wrap}
.price-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:600;background:var(--bg3);border:1px solid var(--border)}
.price-badge.base{color:#4a9eff}
.price-badge.xrpl{color:#00D4AA}
.services-empty{color:var(--muted);font-size:.9rem}

/* STATS */
#stats-section{background:radial-gradient(ellipse at 50% 50%,#00d4aa0a 0%,transparent 70%);text-align:center}
.stats-bar{font-size:1.1rem;color:var(--muted);margin-top:16px}
.stats-bar strong{color:var(--text)}
.stats-sep{margin:0 12px;opacity:.3}
#stats-text{font-size:1rem;color:var(--muted)}

/* TWO AUDIENCES */
.audiences{display:grid;grid-template-columns:1fr 1fr;gap:32px}
@media(max-width:680px){.audiences{grid-template-columns:1fr}}
.audience-card{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:32px}
.audience-card h3{font-size:1.2rem;font-weight:700;margin-bottom:12px;color:var(--accent)}
.audience-card p{color:var(--muted);font-size:.95rem;margin-bottom:16px}
.audience-card code{background:var(--bg3);color:var(--accent);padding:2px 8px;border-radius:4px;font-size:.85rem}

/* NETWORKS */
.networks{display:grid;grid-template-columns:1fr 1fr;gap:24px}
@media(max-width:560px){.networks{grid-template-columns:1fr}}
.network-card{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:28px}
.network-card .network-icon{font-size:2rem;margin-bottom:12px}
.network-card h3{font-size:1.1rem;font-weight:700;margin-bottom:8px}
.network-card ul{list-style:none;padding:0}
.network-card ul li{font-size:.875rem;color:var(--muted);padding:4px 0;display:flex;align-items:center;gap:8px}
.network-card ul li::before{content:'âœ“';color:var(--accent);font-weight:700;font-size:.8rem}

/* REGISTER */
#register form{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:40px;max-width:560px}
.form-group{margin-bottom:20px}
label{display:block;font-size:.875rem;font-weight:600;margin-bottom:6px;color:var(--muted)}
input,textarea,select{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:10px 14px;color:var(--text);font-size:.9rem;outline:none;transition:border-color .2s;font-family:inherit}
input:focus,textarea:focus,select:focus{border-color:var(--accent)}
select option{background:var(--bg3)}
textarea{resize:vertical;min-height:80px}
.form-submit{margin-top:24px}
.form-note{font-size:.8rem;color:var(--muted);margin-top:12px}

/* FOOTER */
footer{border-top:1px solid var(--border);padding:40px 0;text-align:center}
.footer-links{display:flex;gap:24px;justify-content:center;flex-wrap:wrap;margin-bottom:16px}
.footer-links a{color:var(--muted);font-size:.875rem}
.footer-links a:hover{color:var(--text)}
.footer-copy{font-size:.8rem;color:var(--muted)}

/* LOADING */
.loading{color:var(--muted);font-size:.9rem;display:flex;align-items:center;gap:8px}
.loading::before{content:'';display:inline-block;width:14px;height:14px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>
<body>

<nav>
  <div class="container nav-inner">
    <div class="logo">serve<span>402</span></div>
    <div class="nav-links">
      <a href="#how">How It Works</a>
      <a href="/marketplace">Marketplace</a>
      <a href="#register">Register API</a>
      <a href="/health">Status</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero" id="top">
  <div class="container">
    <div class="badge">x402 Protocol</div>
    <h1>The Payment Layer<br>for <em>AI Agents</em></h1>
    <p>Pay-per-request APIs with USDC or XRP. No accounts. No API keys. Just HTTP.</p>
    <div class="cta-group">
      <a class="btn btn-primary" href="/marketplace">View Marketplace</a>
      <a class="btn btn-outline" href="#register">Register Your API</a>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section id="how">
  <div class="container">
    <div class="section-label">How It Works</div>
    <div class="section-title">Three steps. One round-trip.</div>
    <div class="steps">
      <div class="step">
        <div class="step-num">â†’</div>
        <h3>Agent requests an API</h3>
        <p>Your AI agent sends a standard HTTP request to any serve402 endpoint.</p>
      </div>
      <div class="step">
        <div class="step-num">ğŸ·</div>
        <h3>Server returns 402 with price</h3>
        <p>The server responds with HTTP 402 and payment details â€” chain, asset, amount, and where to pay.</p>
      </div>
      <div class="step">
        <div class="step-num">âœ“</div>
        <h3>Agent pays, gets data</h3>
        <p>The agent pays on-chain and retries. The server verifies and returns the response.</p>
      </div>
    </div>
    <p class="step-note">The entire flow happens in one HTTP round-trip. No SDK required â€” just <code>x402-xrpl</code> or <code>@x402/fetch</code>.</p>
  </div>
</section>

<!-- LIVE SERVICES -->
<section id="services">
  <div class="container">
    <div class="section-label">Marketplace</div>
    <div class="section-title">Live Services</div>
    <p class="section-sub">Available APIs you can call right now â€” no account needed.</p>
    <div id="services-grid" class="services-grid">
      <div class="loading">Loading services&hellip;</div>
    </div>
  </div>
</section>

<!-- STATS -->
<section id="stats-section">
  <div class="container">
    <div class="section-label">Live Metrics</div>
    <div class="section-title">Activity on the Network</div>
    <div id="stats-text" class="loading">Fetching stats&hellip;</div>
  </div>
</section>

<!-- TWO AUDIENCES -->
<section id="audiences">
  <div class="container">
    <div class="section-label">Who It's For</div>
    <div class="section-title">Built for agents. Built for builders.</div>
    <div class="audiences">
      <div class="audience-card">
        <h3>ğŸ¤– For Agents</h3>
        <p>Your agent needs data. serve402 has it. Pay with USDC on Base or XRP on the XRP Ledger â€” whichever your wallet supports.</p>
        <p>One install, then it just works:</p>
        <p><code>npm install x402-xrpl</code></p>
        <p>â€” or â€”</p>
        <p><code>npm install @x402/fetch</code></p>
      </div>
      <div class="audience-card">
        <h3>ğŸ›  For Developers</h3>
        <p>You have an API. We handle the payments. Register your endpoint, set your price, and start earning from AI agent traffic.</p>
        <p>Payments go directly to your wallet â€” no intermediaries, no invoicing, no delays. Just on-chain settlement every request.</p>
      </div>
    </div>
  </div>
</section>

<!-- SUPPORTED NETWORKS -->
<section id="networks">
  <div class="container">
    <div class="section-label">Networks</div>
    <div class="section-title">Two chains. One gateway.</div>
    <div class="networks">
      <div class="network-card">
        <div class="network-icon">ğŸ”µ</div>
        <h3>Base (L2)</h3>
        <ul>
          <li>USDC stablecoin payments</li>
          <li>CDP Facilitator by Coinbase</li>
          <li>EVM compatible</li>
          <li>~$0.003â€“0.005 per request</li>
        </ul>
      </div>
      <div class="network-card">
        <div class="network-icon">ğŸŒ</div>
        <h3>XRP Ledger</h3>
        <ul>
          <li>Native XRP payments</li>
          <li>t54.ai Facilitator</li>
          <li>No API keys needed</li>
          <li>1500â€“2500 drops per request</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- REGISTER YOUR API -->
<section id="register">
  <div class="container">
    <div class="section-label">Get Listed</div>
    <div class="section-title">Register Your API</div>
    <p class="section-sub">Want to earn from AI agent traffic? Tell us about your endpoint and we'll get you set up.</p>
    <form id="register-form" onsubmit="handleRegister(event)">
      <div class="form-group">
        <label for="r-name">Your Name</label>
        <input type="text" id="r-name" name="name" placeholder="Jane Smith" required>
      </div>
      <div class="form-group">
        <label for="r-email">Email</label>
        <input type="email" id="r-email" name="email" placeholder="jane@example.com" required>
      </div>
      <div class="form-group">
        <label for="r-url">API URL</label>
        <input type="url" id="r-url" name="url" placeholder="https://api.example.com/endpoint" required>
      </div>
      <div class="form-group">
        <label for="r-desc">Description</label>
        <textarea id="r-desc" name="description" placeholder="What does your API do? What data does it return?"></textarea>
      </div>
      <div class="form-group">
        <label for="r-chain">Preferred Chain</label>
        <select id="r-chain" name="chain">
          <option value="both">Both (Base + XRPL)</option>
          <option value="base">Base (USDC)</option>
          <option value="xrpl">XRP Ledger (XRP)</option>
        </select>
      </div>
      <div class="form-submit">
        <button type="submit" class="btn btn-primary">Submit Registration</button>
        <p class="form-note">We'll reply within 48 hours to help you get integrated.</p>
      </div>
    </form>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-links">
      <a href="https://github.com/justinnevins/x402-gateway" target="_blank" rel="noopener">GitHub</a>
      <a href="/marketplace">Documentation</a>
      <a href="/health">API Status</a>
      <a href="/stats">Stats</a>
    </div>
    <p class="footer-copy">Built with the <a href="https://x402.org" target="_blank" rel="noopener">x402 protocol</a>. Open source. Payments go straight to your wallet.</p>
  </div>
</footer>

<script>
// â”€â”€ Load marketplace services â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const FALLBACK_SERVICES = [
  { name: 'Web Content Extraction', description: 'Extract readable content from any URL using a headless browser.', endpoints: { base: { price: '0.005', asset: 'USDC' }, xrpl: { price: '2500 drops', asset: 'XRP' } } },
  { name: 'Code Execution', description: 'Run Python or JavaScript code in an isolated sandbox.', endpoints: { base: { price: '0.005', asset: 'USDC' }, xrpl: { price: '2500 drops', asset: 'XRP' } } },
  { name: 'URL Screenshot', description: 'Capture any URL as PNG or JPEG â€” full page or viewport.', endpoints: { base: { price: '0.003', asset: 'USDC' }, xrpl: { price: '1500 drops', asset: 'XRP' } } },
  { name: 'PDF Generation', description: 'Generate a PDF from any URL with configurable paper format.', endpoints: { base: { price: '0.003', asset: 'USDC' }, xrpl: { price: '1500 drops', asset: 'XRP' } } },
];

function renderServices(list) {
  const grid = document.getElementById('services-grid');
  if (!list || !list.length) {
    grid.innerHTML = '<p class="services-empty">No services found.</p>';
    return;
  }
  grid.innerHTML = list.map(s => `
    <div class="service-card">
      <h3>${escHtml(s.name)}</h3>
      <p class="desc">${escHtml(s.description)}</p>
      <div class="price-badges">
        ${s.endpoints?.base ? `<span class="price-badge base">ğŸ”µ ${s.endpoints.base.asset} ${s.endpoints.base.price}</span>` : ''}
        ${s.endpoints?.xrpl ? `<span class="price-badge xrpl">ğŸŒ ${s.endpoints.xrpl.asset} ${s.endpoints.xrpl.price}</span>` : ''}
      </div>
    </div>
  `).join('');
}

async function loadServices() {
  try {
    const res = await fetch('/marketplace');
    if (!res.ok) throw new Error('non-200');
    const data = await res.json();
    renderServices(data.services || FALLBACK_SERVICES);
  } catch {
    renderServices(FALLBACK_SERVICES);
  }
}

// â”€â”€ Load stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function loadStats() {
  const el = document.getElementById('stats-text');
  try {
    const res = await fetch('/stats');
    if (!res.ok) throw new Error();
    const d = await res.json();
    const total = (d.totalRequests || d.total_requests || 0);
    const wallets = (d.uniqueWallets || d.unique_wallets || 0);
    const volume = (d.totalVolume || d.total_volume || '0');
    if (total === 0 && wallets === 0) {
      el.className = '';
      el.innerHTML = '<em style="color:var(--muted)">Just launched â€” be the first to integrate.</em>';
    } else {
      el.className = 'stats-bar';
      el.innerHTML = `<strong>${total.toLocaleString()}</strong> requests processed<span class="stats-sep">â€¢</span><strong>${wallets.toLocaleString()}</strong> unique agent wallets<span class="stats-sep">â€¢</span><strong>${volume}</strong> total volume`;
    }
  } catch {
    el.className = '';
    el.innerHTML = '<em style="color:var(--muted)">Just launched â€” be the first to integrate.</em>';
  }
}

// â”€â”€ Register form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function handleRegister(e) {
  e.preventDefault();
  const name = document.getElementById('r-name').value;
  const email = document.getElementById('r-email').value;
  const url = document.getElementById('r-url').value;
  const desc = document.getElementById('r-desc').value;
  const chain = document.getElementById('r-chain').value;
  const subject = encodeURIComponent('serve402 API Registration');
  const body = encodeURIComponent(
    `Name: ${name}\nEmail: ${email}\nAPI URL: ${url}\nDescription: ${desc}\nPreferred Chain: ${chain}`
  );
  window.location.href = `mailto:justin@carbonvibe.com?subject=${subject}&body=${body}`;
}

// â”€â”€ Util â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function escHtml(str) {
  const d = document.createElement('div');
  d.textContent = str || '';
  return d.innerHTML;
}

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
loadServices();
loadStats();
</script>
</body>
</html>
